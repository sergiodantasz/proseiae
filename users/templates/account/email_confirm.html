{% extends "allauth/layouts/base.html" %}
{% load heroicons %}
{% block content %}
  <div class="text-center mb-8">
    <h1 class="font-bold text-2xl mb-1">Alteração de e-mail</h1>
    <p class="opacity-50">Confirme abaixo a mudança de e-mail.</p>
  </div>
  {% if confirmation %}
    <div class="flex flex-col items-center gap-4">
      {% if can_confirm %}
        <div role="alert" class="alert">
          <p>
            Por favor, confirme que <span class="font-bold">{{ confirmation.email_address.email }}</span> é um endereço de e-mail para o usuário <span class="font-bold">{{ user.username }}</span>.
          </p>
        </div>
        <form action="{% url "account_confirm_email" confirmation.key %}"
              method="post">
          {% csrf_token %}
          <button class="btn btn-primary" type="submit">Confirmar e-mail</button>
        </form>
      {% else %}
        <div role="alert" class="alert alert-soft alert-error">
          {% heroicon_outline "x-circle" %}
          <p>
            Não é possível confirmar <span class="font-bold">{{ confirmation.email_address.email }}</span> porque ele já foi confirmado por uma conta diferente.
          </p>
        </div>
      {% endif %}
    </div>
  {% else %}
    <div class="flex flex-col items-center gap-4">
      <div role="alert" class="alert alert-soft alert-error">
        {% heroicon_outline "x-circle" %}
        <div>
          <h3 class="font-bold">Link inválido!</h3>
          <div>
            Este link de confirmação de e-mail expirou ou é inválido. Por favor, acesse a página de alteração de e-mail para reenviar o link de confirmação.
          </div>
        </div>
      </div>
      <a class="btn btn-primary" href="{% url "account_email" %}">Alterar e-mail</a>
    </div>
  {% endif %}
{% endblock content %}
